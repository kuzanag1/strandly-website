<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Your Hair Analysis - Secure Checkout | Strandly</title>
    <meta name="description" content="Complete your personalized hair analysis payment. Secure checkout with SSL encryption. Get your results instantly.">
    
    <!-- Enhanced SEO and Social Meta -->
    <meta property="og:title" content="Complete Your Hair Analysis - Strandly">
    <meta property="og:description" content="Secure checkout for your personalized hair analysis. Results delivered instantly.">
    <meta property="og:type" content="website">
    
    <!-- Security and Trust -->
    <meta name="robots" content="noindex, nofollow">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/strandly.css">
    <link rel="stylesheet" href="css/enhanced-landing.css">
    <link rel="stylesheet" href="css/enhanced-payment.css">
    
    <!-- Stripe.js -->
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body class="payment-page">
    <!-- Enhanced Navigation Header -->
    <nav class="payment-navbar" role="navigation" aria-label="Payment navigation">
        <div class="nav-container">
            <div class="nav-brand">
                <h1 class="gradient-text brand-logo">Strandly</h1>
                <span class="tagline">Secure Checkout</span>
            </div>
            
            <!-- Trust Indicators in Header -->
            <div class="header-trust">
                <div class="trust-item">
                    <span class="trust-icon">üîí</span>
                    <span class="trust-text">SSL Secured</span>
                </div>
                <div class="trust-item">
                    <span class="trust-icon">üí≥</span>
                    <span class="trust-text">Safe Payment</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Security Trust Banner -->
    <div class="security-banner">
        <div class="container">
            <div class="security-content">
                <span class="security-icon">üõ°Ô∏è</span>
                <span class="security-text">Your payment is protected by bank-level SSL encryption</span>
                <div class="security-badges">
                    <span class="badge">256-bit SSL</span>
                    <span class="badge">PCI Compliant</span>
                    <span class="badge">Stripe Secure</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Content -->
    <main class="payment-main" role="main">
        <div class="container">
            <div class="payment-container">
                
                <!-- Left Column: Order Summary & Trust -->
                <div class="order-summary-section">
                    <div class="order-summary-card">
                        <div class="summary-header">
                            <h2>Your Hair Analysis</h2>
                            <div class="summary-badge">Complete Package</div>
                        </div>
                        
                        <div class="summary-content">
                            <div class="analysis-preview">
                                <div class="preview-icon">üß¨</div>
                                <div class="preview-details">
                                    <h3>Personalized Hair Profile</h3>
                                    <p>Complete analysis of your unique hair characteristics</p>
                                </div>
                            </div>
                            
                            <div class="included-items">
                                <h4>What You'll Receive:</h4>
                                <ul class="included-list">
                                    <li class="included-item">
                                        <span class="item-icon">‚úÖ</span>
                                        <span class="item-text">Detailed hair type analysis</span>
                                    </li>
                                    <li class="included-item">
                                        <span class="item-icon">‚úÖ</span>
                                        <span class="item-text">Personalized product recommendations</span>
                                    </li>
                                    <li class="included-item">
                                        <span class="item-icon">‚úÖ</span>
                                        <span class="item-text">Custom morning & evening routines</span>
                                    </li>
                                    <li class="included-item">
                                        <span class="item-icon">‚úÖ</span>
                                        <span class="item-text">Styling tips & techniques</span>
                                    </li>
                                    <li class="included-item">
                                        <span class="item-icon">‚úÖ</span>
                                        <span class="item-text">Shopping guide with links</span>
                                    </li>
                                    <li class="included-item">
                                        <span class="item-icon">‚úÖ</span>
                                        <span class="item-text">Expert support via email</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <div class="pricing-breakdown">
                                <div class="price-row">
                                    <span class="price-label">Hair Analysis</span>
                                    <span class="price-value">$29.00</span>
                                </div>
                                <div class="price-row comparison">
                                    <span class="price-label">Salon Consultation</span>
                                    <span class="price-value old-price">$200.00</span>
                                </div>
                                <div class="savings-highlight">
                                    <span class="savings-text">You Save: $171</span>
                                </div>
                                <div class="price-row total">
                                    <span class="price-label">Total Today</span>
                                    <span class="price-value">$29.00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Trust & Guarantees -->
                    <div class="trust-card">
                        <h3>Your Satisfaction is Guaranteed</h3>
                        <div class="guarantee-items">
                            <div class="guarantee-item">
                                <span class="guarantee-icon">üí∞</span>
                                <div class="guarantee-content">
                                    <strong>30-Day Money Back Guarantee</strong>
                                    <p>Not satisfied? Get a full refund, no questions asked.</p>
                                </div>
                            </div>
                            <div class="guarantee-item">
                                <span class="guarantee-icon">‚ö°</span>
                                <div class="guarantee-content">
                                    <strong>Instant Results</strong>
                                    <p>Your analysis will be delivered to your email within minutes.</p>
                                </div>
                            </div>
                            <div class="guarantee-item">
                                <span class="guarantee-icon">üîí</span>
                                <div class="guarantee-content">
                                    <strong>100% Secure & Private</strong>
                                    <p>Your personal information is encrypted and never shared.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Social Proof -->
                    <div class="social-proof-card">
                        <h3>Join Thousands of Happy Customers</h3>
                        <div class="testimonial-mini">
                            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                            <p>"Best $29 I've ever spent on my hair! The recommendations were spot on."</p>
                            <span class="author">- Sarah M., Verified Customer</span>
                        </div>
                        <div class="stats-row">
                            <div class="stat-item">
                                <span class="stat-number">12,847</span>
                                <span class="stat-label">Analyses Completed</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">4.8/5</span>
                                <span class="stat-label">Customer Rating</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Right Column: Payment Form -->
                <div class="payment-form-section">
                    <div class="payment-form-card">
                        <div class="form-header">
                            <h2>Complete Your Order</h2>
                            <div class="security-notice">
                                <span class="security-icon">üîê</span>
                                <span>Secured by Stripe</span>
                            </div>
                        </div>
                        
                        <form id="payment-form" class="enhanced-payment-form" novalidate>
                            <!-- Customer Information -->
                            <div class="form-section">
                                <h3 class="section-title">
                                    <span class="section-number">1</span>
                                    Customer Information
                                </h3>
                                
                                <div class="form-group">
                                    <label for="customer-name" class="form-label">
                                        Full Name
                                        <span class="required">*</span>
                                    </label>
                                    <input 
                                        type="text" 
                                        id="customer-name" 
                                        name="customerName" 
                                        class="form-input"
                                        required
                                        autocomplete="name"
                                        placeholder="Enter your full name"
                                        aria-describedby="name-error"
                                    >
                                    <div id="name-error" class="error-message" aria-live="polite"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="customer-email" class="form-label">
                                        Email Address
                                        <span class="required">*</span>
                                    </label>
                                    <input 
                                        type="email" 
                                        id="customer-email" 
                                        name="customerEmail" 
                                        class="form-input"
                                        required
                                        autocomplete="email"
                                        placeholder="your.email@example.com"
                                        aria-describedby="email-error email-help"
                                    >
                                    <div id="email-help" class="input-help">
                                        Your analysis results will be sent here
                                    </div>
                                    <div id="email-error" class="error-message" aria-live="polite"></div>
                                </div>
                            </div>
                            
                            <!-- Payment Information -->
                            <div class="form-section">
                                <h3 class="section-title">
                                    <span class="section-number">2</span>
                                    Payment Information
                                </h3>
                                
                                <div class="payment-methods">
                                    <div class="accepted-cards">
                                        <span class="cards-label">We accept:</span>
                                        <div class="card-icons">
                                            <span class="card-icon visa" aria-label="Visa">üí≥</span>
                                            <span class="card-icon mastercard" aria-label="Mastercard">üí≥</span>
                                            <span class="card-icon amex" aria-label="American Express">üí≥</span>
                                            <span class="card-icon discover" aria-label="Discover">üí≥</span>
                                            <span class="card-icon apple-pay" aria-label="Apple Pay">üì±</span>
                                            <span class="card-icon google-pay" aria-label="Google Pay">üì±</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Stripe Elements Container -->
                                <div class="stripe-elements-container">
                                    <div class="form-group">
                                        <label for="card-element" class="form-label">
                                            Card Information
                                            <span class="required">*</span>
                                        </label>
                                        <div id="card-element" class="stripe-element">
                                            <!-- Stripe Elements will create form elements here -->
                                        </div>
                                        <div id="card-errors" class="error-message" role="alert" aria-live="assertive"></div>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group half-width">
                                        <label for="billing-zip" class="form-label">
                                            Billing ZIP Code
                                            <span class="required">*</span>
                                        </label>
                                        <input 
                                            type="text" 
                                            id="billing-zip" 
                                            name="billingZip" 
                                            class="form-input"
                                            required
                                            autocomplete="postal-code"
                                            placeholder="12345"
                                            aria-describedby="zip-error"
                                        >
                                        <div id="zip-error" class="error-message" aria-live="polite"></div>
                                    </div>
                                    <div class="form-group half-width">
                                        <label for="billing-country" class="form-label">
                                            Country
                                            <span class="required">*</span>
                                        </label>
                                        <select 
                                            id="billing-country" 
                                            name="billingCountry" 
                                            class="form-select"
                                            required
                                            aria-describedby="country-error"
                                        >
                                            <option value="">Select Country</option>
                                            <option value="US">United States</option>
                                            <option value="CA">Canada</option>
                                            <option value="GB">United Kingdom</option>
                                            <option value="AU">Australia</option>
                                            <option value="DE">Germany</option>
                                            <option value="FR">France</option>
                                            <option value="IT">Italy</option>
                                            <option value="ES">Spain</option>
                                            <option value="NL">Netherlands</option>
                                            <option value="SE">Sweden</option>
                                            <option value="NO">Norway</option>
                                            <option value="DK">Denmark</option>
                                            <option value="FI">Finland</option>
                                        </select>
                                        <div id="country-error" class="error-message" aria-live="polite"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Order Confirmation -->
                            <div class="form-section">
                                <h3 class="section-title">
                                    <span class="section-number">3</span>
                                    Order Confirmation
                                </h3>
                                
                                <div class="order-confirmation">
                                    <div class="confirmation-item">
                                        <span class="confirmation-label">Service:</span>
                                        <span class="confirmation-value">Personalized Hair Analysis</span>
                                    </div>
                                    <div class="confirmation-item">
                                        <span class="confirmation-label">Price:</span>
                                        <span class="confirmation-value">$29.00 USD</span>
                                    </div>
                                    <div class="confirmation-item">
                                        <span class="confirmation-label">Delivery:</span>
                                        <span class="confirmation-value">Instant (via email)</span>
                                    </div>
                                </div>
                                
                                <div class="terms-agreement">
                                    <label class="checkbox-label">
                                        <input 
                                            type="checkbox" 
                                            id="terms-agreement" 
                                            name="termsAgreement"
                                            class="checkbox-input"
                                            required
                                            aria-describedby="terms-error"
                                        >
                                        <span class="checkbox-custom"></span>
                                        <span class="checkbox-text">
                                            I agree to the 
                                            <a href="/terms" target="_blank" rel="noopener">Terms of Service</a> and 
                                            <a href="/privacy" target="_blank" rel="noopener">Privacy Policy</a>
                                            <span class="required">*</span>
                                        </span>
                                    </label>
                                    <div id="terms-error" class="error-message" aria-live="polite"></div>
                                </div>
                                
                                <div class="marketing-consent">
                                    <label class="checkbox-label">
                                        <input 
                                            type="checkbox" 
                                            id="marketing-consent" 
                                            name="marketingConsent"
                                            class="checkbox-input"
                                        >
                                        <span class="checkbox-custom"></span>
                                        <span class="checkbox-text">
                                            Send me hair care tips and product updates (optional)
                                        </span>
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Submit Button -->
                            <div class="form-section">
                                <button type="submit" id="submit-payment" class="payment-submit-btn">
                                    <span class="btn-content">
                                        <span class="btn-icon">üîí</span>
                                        <span class="btn-text">Complete Secure Payment</span>
                                        <span class="btn-price">$29.00</span>
                                    </span>
                                    <div class="btn-loader" aria-hidden="true">
                                        <div class="loader-spinner"></div>
                                        <span class="loader-text">Processing...</span>
                                    </div>
                                </button>
                                
                                <div class="payment-security-note">
                                    <span class="security-icon">üõ°Ô∏è</span>
                                    <span class="security-text">
                                        Your payment information is encrypted and secure. 
                                        We never store your card details.
                                    </span>
                                </div>
                            </div>
                        </form>
                    </div>
                    
                    <!-- Additional Security & Support Info -->
                    <div class="security-support-info">
                        <div class="security-features">
                            <h4>Security Features</h4>
                            <ul class="security-list">
                                <li>
                                    <span class="feature-icon">üîê</span>
                                    <span>256-bit SSL encryption</span>
                                </li>
                                <li>
                                    <span class="feature-icon">üõ°Ô∏è</span>
                                    <span>PCI DSS compliant</span>
                                </li>
                                <li>
                                    <span class="feature-icon">üè¶</span>
                                    <span>Bank-level security</span>
                                </li>
                                <li>
                                    <span class="feature-icon">üîí</span>
                                    <span>No card details stored</span>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="support-info">
                            <h4>Need Help?</h4>
                            <p>Our customer support team is here to help:</p>
                            <div class="support-contact">
                                <a href="mailto:support@strandly.com" class="support-link">
                                    <span class="support-icon">üìß</span>
                                    <span>support@strandly.com</span>
                                </a>
                                <div class="support-hours">
                                    <span class="hours-icon">üïí</span>
                                    <span>24/7 email support</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Trust Footer -->
    <footer class="payment-footer">
        <div class="container">
            <div class="footer-trust-badges">
                <div class="trust-badge">
                    <span class="badge-icon">üîí</span>
                    <span class="badge-text">SSL Secured</span>
                </div>
                <div class="trust-badge">
                    <span class="badge-icon">‚úÖ</span>
                    <span class="badge-text">PCI Compliant</span>
                </div>
                <div class="trust-badge">
                    <span class="badge-icon">üí≥</span>
                    <span class="badge-text">Stripe Powered</span>
                </div>
                <div class="trust-badge">
                    <span class="badge-icon">üí∞</span>
                    <span class="badge-text">Money Back Guarantee</span>
                </div>
            </div>
            
            <div class="footer-links">
                <a href="/privacy">Privacy Policy</a>
                <a href="/terms">Terms of Service</a>
                <a href="/refund">Refund Policy</a>
                <a href="/contact">Contact Support</a>
            </div>
            
            <div class="footer-copyright">
                <p>&copy; 2026 Strandly. All rights reserved. Secure payments processed by Stripe.</p>
            </div>
        </div>
    </footer>

    <!-- Progress Indicator for Loading States -->
    <div id="page-loader" class="page-loader" aria-hidden="true">
        <div class="loader-content">
            <div class="loader-spinner-large"></div>
            <h3>Processing Your Payment</h3>
            <p>Please don't refresh or close this page...</p>
        </div>
    </div>

    <!-- Enhanced Error Modal -->
    <div id="error-modal" class="error-modal" role="dialog" aria-labelledby="error-title" aria-hidden="true">
        <div class="modal-overlay" onclick="closeErrorModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="error-title">Payment Error</h3>
                <button class="modal-close" onclick="closeErrorModal()" aria-label="Close error message">√ó</button>
            </div>
            <div class="modal-body">
                <div class="error-icon">‚ö†Ô∏è</div>
                <div id="error-message" class="error-text"></div>
                <div class="error-suggestions">
                    <h4>What you can try:</h4>
                    <ul id="error-suggestions-list">
                        <!-- Suggestions will be populated by JavaScript -->
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeErrorModal()">Close</button>
                <button class="btn-primary" onclick="retryPayment()">Try Again</button>
            </div>
        </div>
    </div>

    <!-- Success Confirmation -->
    <div id="success-confirmation" class="success-confirmation" aria-hidden="true">
        <div class="success-content">
            <div class="success-icon">‚úÖ</div>
            <h2>Payment Successful!</h2>
            <p>Your hair analysis is being prepared...</p>
            <div class="success-details">
                <p>You'll receive your personalized hair profile at:</p>
                <strong id="confirmation-email"></strong>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/enhanced-payment.js"></script>
    
    <!-- Analytics and Error Tracking -->
    <script>
        // Enhanced error tracking
        window.addEventListener('error', (event) => {
            console.error('Payment page error:', event.error);
        });
        
        window.addEventListener('unhandledrejection', (event) => {
            console.error('Payment page promise rejection:', event.reason);
        });
    </script>
</body>
</html>